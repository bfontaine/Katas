#! /usr/bin/ruby1.9.1

require "./KataBankOCR"
require "test/unit";

class KataBankOCRTest < Test::Unit::TestCase

    @@tests_u1 = [ # User Story 1
[" _  _  _  _  _  _  _  _  _ \n"\
+"| || || || || || || || || |\n"\
+"|_||_||_||_||_||_||_||_||_|",   "000000000"],

["                           \n"\
+"  |  |  |  |  |  |  |  |  |\n"\
+"  |  |  |  |  |  |  |  |  |",   "111111111"],

[" _  _  _  _  _  _  _  _  _ \n"\
+" _| _| _| _| _| _| _| _| _|\n"\
+"|_ |_ |_ |_ |_ |_ |_ |_ |_ ",   "222222222"],

[" _  _  _  _  _  _  _  _  _ \n"\
+" _| _| _| _| _| _| _| _| _|\n"\
+" _| _| _| _| _| _| _| _| _|",   "333333333"],

["                           \n"\
+"|_||_||_||_||_||_||_||_||_|\n"\
+"  |  |  |  |  |  |  |  |  |",   "444444444"],

[" _  _  _  _  _  _  _  _  _ \n"\
+"|_ |_ |_ |_ |_ |_ |_ |_ |_ \n"\
+" _| _| _| _| _| _| _| _| _|",   "555555555"],

[" _  _  _  _  _  _  _  _  _ \n"\
+"|_ |_ |_ |_ |_ |_ |_ |_ |_ \n"\
+"|_||_||_||_||_||_||_||_||_|",   "666666666"],

[" _  _  _  _  _  _  _  _  _ \n"\
+"  |  |  |  |  |  |  |  |  |\n"\
+"  |  |  |  |  |  |  |  |  |",   "777777777"],

[" _  _  _  _  _  _  _  _  _ \n"\
+"|_||_||_||_||_||_||_||_||_|\n"\
+"|_||_||_||_||_||_||_||_||_|",   "888888888"],

[" _  _  _  _  _  _  _  _  _ \n"\
+"|_||_||_||_||_||_||_||_||_|\n"\
+" _| _| _| _| _| _| _| _| _|",   "999999999"],

["    _  _     _  _  _  _  _ \n"\
+"  | _| _||_||_ |_   ||_||_|\n"\
+"  ||_  _|  | _||_|  ||_| _|",   "123456789"]
    ]

    # User Story 2
    @@tests_u2 = [
        ["000000000", true],
        ["111111111", false],
        ["111111110", true],
        ["664371495", false],
        ["457508000", true]
    ]

    def test_u1
        @@tests_u1.each {|val, ref|
            assert_equal(read_number(val), ref)
        }
    end

    def test_u2
        @@tests_u2.each {|val, ref|
            assert_equal(check_validity(val), ref, val)
        }
    end
end
